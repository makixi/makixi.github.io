<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://makixi.github.io">
  <title>Maki</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一条咸鱼的代码(●&apos;◡&apos;●)">
<meta property="og:type" content="website">
<meta property="og:title" content="Maki">
<meta property="og:url" content="http://makixi.github.io/page/3/index.html">
<meta property="og:site_name" content="Maki">
<meta property="og:description" content="一条咸鱼的代码(●&apos;◡&apos;●)">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Maki">
<meta name="twitter:description" content="一条咸鱼的代码(●&apos;◡&apos;●)">
  
    <link rel="alternative" href="/atom.xml" title="Maki" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" type="text/css" href="/./main.f6a68c.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="https://github.com/makixi/makixi.github.io/raw/master/img/caihongyang.png" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">Lynesy Chen</a></h1>
		</hgroup>
		
		<p class="header-subtitle">一条咸鱼。</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/随笔/">随笔</a></li>
	        
				<li><a href="/tags/OJ/">OJ</a></li>
	        
				<li><a href="/tags/天梯赛/">天梯赛</a></li>
	        
				<li><a href="/tags/PAT甲级/">PAT甲级</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">About Me</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/makixi/PAT" title="github"><i class="icon-github"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="https://github.com/makixi/makixi.github.io/raw/master/img/caihongyang.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">Lynesy Chen</h1>
			</hgroup>
			
			<p class="header-subtitle"><i class="icon icon-quo-left"></i>一条咸鱼。<i class="icon icon-quo-right"></i></p>
			
			
			
				
			
				
			
				
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/makixi/PAT" title="github"><i class="icon-github"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 70%">
				
				
					<li style="width: 20%"><a href="/">主页</a></li>
		        
					<li style="width: 20%"><a href="/tags/随笔/">随笔</a></li>
		        
					<li style="width: 20%"><a href="/tags/OJ/">OJ</a></li>
		        
					<li style="width: 20%"><a href="/tags/天梯赛/">天梯赛</a></li>
		        
					<li style="width: 20%"><a href="/tags/PAT甲级/">PAT甲级</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-POJ/POJ-3667-Hotal" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/07/POJ/POJ-3667-Hotal/">POJ 3667 Hotel(线段树/树状数组,区间合并)</a>
    </h1>
  

        
        <a href="/2017/10/07/POJ/POJ-3667-Hotal/" class="archive-article-date">
  	<time datetime="2017-10-07T09:48:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-07</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong><br>The cows are journeying north to Thunder Bay in Canada to gain cultural enrichment and enjoy a vacation on the sunny shores of Lake Superior. Bessie, ever the competent travel agent, has named the Bullmoose Hotel on famed Cumberland Street as their vacation residence. This immense hotel has N (1 ≤ N ≤ 50,000) rooms all located on the same side of an extremely long hallway (all the better to see the lake, of course).<br>The cows and other visitors arrive in groups of size Di (1 ≤ Di ≤ N) and approach the front desk to check in. Each group i requests a set of Di contiguous rooms from Canmuu, the moose staffing the counter. He assigns them some set of consecutive room numbers r..r+Di-1 if they are available or, if no contiguous set of rooms is available, politely suggests alternate lodging. Canmuu always chooses the value of r to be the smallest possible.<br>Visitors also depart the hotel from groups of contiguous rooms. Checkout i has the parameters Xi and Di which specify the vacating of rooms Xi ..Xi +Di-1 (1 ≤ Xi ≤ N-Di+1). Some (or all) of those rooms might be empty before the checkout.<br>Your job is to assist Canmuu by processing M (1 ≤ M &lt; 50,000) checkin/checkout requests. The hotel is initially unoccupied.</p>
<p><strong>Input</strong></p>
<ul>
<li>Line 1: Two space-separated integers: N and M</li>
<li>Lines 2..M+1: Line i+1 contains request expressed as one of two possible formats: (a) Two space separated integers representing a check-in request: 1 and Di (b) Three space-separated integers representing a check-out: 2, Xi, and Di</li>
</ul>
<p><strong>Output</strong></p>
<ul>
<li>Lines 1…..: For each check-in request, output a single line with a single integer r, the first room in the contiguous sequence of rooms to be occupied. If the request cannot be satisfied, output 0.</li>
</ul>
<p><strong>Sample Input</strong><br>10 6<br>1 3<br>1 3<br>1 3<br>1 3<br>2 5 5<br>1 6</p>
<p><strong>Sample Output</strong><br>1<br>4<br>7<br>0<br>5</p>
<p>树状数组一版：会TLE 但是代码本身应该没什么问题<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lowbit(i) ((i)&amp;(-i))</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">50000</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">int</span> n,m;</div><div class="line"><span class="keyword">int</span> c[maxn],c1[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> *cc,<span class="keyword">int</span> x,<span class="keyword">int</span> v)</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=x;i&lt;=n;i+=lowbit(i))cc[i]+=v;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getsum</span><span class="params">(<span class="keyword">int</span> *cc,<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> res=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=x;i&gt;=<span class="number">1</span>;i-=lowbit(i))res+=cc[i];</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> q,d,a,b;</div><div class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</div><div class="line">	<span class="keyword">int</span> curr=<span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span>(m--)&#123;</div><div class="line">		<span class="built_in">cin</span>&gt;&gt;q;</div><div class="line">		<span class="keyword">if</span>(q==<span class="number">1</span>)&#123;</div><div class="line">			<span class="built_in">cin</span>&gt;&gt;d;</div><div class="line">			<span class="keyword">bool</span> flag=<span class="literal">false</span>;</div><div class="line">			<span class="keyword">for</span>(a=curr;a+d<span class="number">-1</span>&lt;=n;++a)&#123;</div><div class="line">				b=a+d<span class="number">-1</span>;</div><div class="line">				<span class="keyword">int</span> tmp=getsum(c,b)-getsum(c,a<span class="number">-1</span>)+getsum(c1,b)*b-getsum(c1,a<span class="number">-1</span>)*(a<span class="number">-1</span>);</div><div class="line">				<span class="keyword">if</span>(tmp==<span class="number">0</span>)&#123;			<span class="comment">//check in val取1</span></div><div class="line">					<span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">					update(c,a,<span class="number">1</span>-a);</div><div class="line">					update(c,b+<span class="number">1</span>,b);</div><div class="line">					update(c1,a,<span class="number">1</span>);</div><div class="line">					update(c1,b+<span class="number">1</span>,<span class="number">-1</span>);</div><div class="line">					curr=b+<span class="number">1</span>;</div><div class="line">					flag=<span class="literal">true</span>;</div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span>(!flag)<span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			<span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;<span class="comment">//check out   val取-1</span></div><div class="line">			b=a+b<span class="number">-1</span>;</div><div class="line">			update(c,a,a<span class="number">-1</span>);</div><div class="line">			update(c,b+<span class="number">1</span>,-b);</div><div class="line">			update(c1,a,<span class="number">-1</span>);</div><div class="line">			update(c1,b+<span class="number">1</span>,<span class="number">1</span>);</div><div class="line">			curr=a;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>线段树一版：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">50000</span>+<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tree</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> cover;</div><div class="line">	<span class="keyword">int</span> llen,rlen;</div><div class="line">	<span class="keyword">int</span> l,r;</div><div class="line">	<span class="keyword">int</span> len;		<span class="comment">//empty length</span></div><div class="line">&#125;v[maxn&lt;&lt;<span class="number">3</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</div><div class="line">	v[st].l=l;v[st].r=r;</div><div class="line">	v[st].cover=<span class="number">-1</span>;v[st].len=<span class="number">1</span>;</div><div class="line">	v[st].llen=r-l+<span class="number">1</span>;</div><div class="line">	v[st].rlen=r-l+<span class="number">1</span>;</div><div class="line">	v[st].len=r-l+<span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(l==r)<span class="keyword">return</span>;</div><div class="line">	<span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</div><div class="line">	build(st&lt;&lt;<span class="number">1</span>,l,mid);</div><div class="line">	build(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</div><div class="line">	v[st].llen=v[st&lt;&lt;<span class="number">1</span>].llen;</div><div class="line">    v[st].rlen=v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].rlen;</div><div class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span>(v[st].llen==mid-l+<span class="number">1</span>) v[st].llen+=v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].llen;</div><div class="line">    <span class="keyword">if</span>(v[st].rlen==r-mid) v[st].rlen+=v[st&lt;&lt;<span class="number">1</span>].rlen;</div><div class="line">    v[st].len=max(max(v[st&lt;&lt;<span class="number">1</span>].len,v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len),v[st&lt;&lt;<span class="number">1</span>].rlen+v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].llen);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> st)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(v[st].cover!=<span class="number">-1</span>)&#123;</div><div class="line">		v[st&lt;&lt;<span class="number">1</span>].cover=v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].cover=v[st].cover;</div><div class="line">		<span class="keyword">if</span>(v[st].cover)&#123;</div><div class="line">			v[st&lt;&lt;<span class="number">1</span>].llen=v[st&lt;&lt;<span class="number">1</span>].rlen=v[st&lt;&lt;<span class="number">1</span>].len=<span class="number">0</span>;</div><div class="line">			v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].llen=v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].rlen=v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len=<span class="number">0</span>;</div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			v[st&lt;&lt;<span class="number">1</span>].llen=v[st&lt;&lt;<span class="number">1</span>].rlen=v[st&lt;&lt;<span class="number">1</span>].len=v[st&lt;&lt;<span class="number">1</span>].r-v[st&lt;&lt;<span class="number">1</span>].l+<span class="number">1</span>;</div><div class="line">			v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].llen=v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].rlen=v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].len=v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].r-v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].l+<span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		v[st].cover=<span class="number">-1</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> val)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(v[st].l==l&amp;&amp;v[st].r==r)&#123;</div><div class="line">		v[st].cover=val;</div><div class="line">		<span class="keyword">if</span>(val)v[st].llen=v[st].rlen=v[st].len=<span class="number">0</span>;</div><div class="line">		<span class="keyword">else</span> v[st].llen=v[st].rlen=v[st].len=r-l+<span class="number">1</span>;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	pushdown(st);</div><div class="line">	<span class="keyword">int</span> mid=(v[st].l+v[st].r)&gt;&gt;<span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(mid&gt;=r)update(st&lt;&lt;<span class="number">1</span>,l,r,val);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(mid&lt;l)update(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,l,r,val);</div><div class="line">	<span class="keyword">else</span>&#123;</div><div class="line">		update(st&lt;&lt;<span class="number">1</span>,l,mid,val);</div><div class="line">		update(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r,val);</div><div class="line">	&#125;</div><div class="line">	pushup(st,v[st].l,v[st].r);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> val)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(l==r)<span class="keyword">return</span> l;</div><div class="line">	pushdown(st);</div><div class="line">	<span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(v[st&lt;&lt;<span class="number">1</span>].len&gt;=val) <span class="keyword">return</span> query(st&lt;&lt;<span class="number">1</span>,l,mid,val);</div><div class="line">    <span class="keyword">if</span>(v[st&lt;&lt;<span class="number">1</span>].rlen+v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].llen&gt;=val) <span class="keyword">return</span> mid-v[st&lt;&lt;<span class="number">1</span>].rlen+<span class="number">1</span>;</div><div class="line">    <span class="keyword">return</span> query(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r,val);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> m,q,a,b,d;</div><div class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</div><div class="line">	build(<span class="number">1</span>,<span class="number">1</span>,n);</div><div class="line">	<span class="keyword">while</span>(m--)&#123;</div><div class="line">		<span class="built_in">cin</span>&gt;&gt;q;</div><div class="line">		<span class="keyword">if</span>(q==<span class="number">1</span>)&#123;<span class="comment">//check in</span></div><div class="line">			<span class="built_in">cin</span>&gt;&gt;d;</div><div class="line">			<span class="keyword">if</span>(v[<span class="number">1</span>].len&lt;d)<span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">			<span class="keyword">else</span>&#123;</div><div class="line">				a=query(<span class="number">1</span>,<span class="number">1</span>,n,d);</div><div class="line">                <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">                update(<span class="number">1</span>,a,a+d<span class="number">-1</span>,<span class="number">1</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;<span class="keyword">else</span>&#123;<span class="comment">//check out</span></div><div class="line">			<span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</div><div class="line">			update(<span class="number">1</span>,a,a+b<span class="number">-1</span>,<span class="number">0</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/07/POJ/POJ-3667-Hotal/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-POJ/POJ-1177-Picture" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/07/POJ/POJ-1177-Picture/">POJ 1177 Picture(线段树+离散化+扫描线段)</a>
    </h1>
  

        
        <a href="/2017/10/07/POJ/POJ-1177-Picture/" class="archive-article-date">
  	<time datetime="2017-10-07T04:25:33.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-07</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong><br>A number of rectangular posters, photographs and other pictures of the same shape are pasted on a wall. Their sides are all vertical or horizontal. Each rectangle can be partially or totally covered by the others. The length of the boundary of the union of all rectangles is called the perimeter.<br>Write a program to calculate the perimeter. An example with 7 rectangles is shown in Figure 1.<br><img src="https://github.com/makixi/makixi.github.io/raw/master/img/%E5%88%B7%E9%A2%98%E4%B8%93%E7%94%A8%E5%9B%BE/POJ11771.jpg" alt="1177-1"><br>The corresponding boundary is the whole set of line segments drawn in Figure 2.<br><img src="https://github.com/makixi/makixi.github.io/raw/master/img/%E5%88%B7%E9%A2%98%E4%B8%93%E7%94%A8%E5%9B%BE/POJ11772.jpg" alt="1177-2"><br>The vertices of all rectangles have integer coordinates.</p>
<p><strong>Input</strong><br>Your program is to read from standard input. The first line contains the number of rectangles pasted on the wall. In each of the subsequent lines, one can find the integer coordinates of the lower left vertex and the upper right vertex of each rectangle. The values of those coordinates are given as ordered pairs consisting of an x-coordinate followed by a y-coordinate.<br>0 &lt;= number of rectangles &lt; 5000<br>All coordinates are in the range [-10000,10000] and any existing rectangle has a positive area.</p>
<p><strong>Output</strong><br>Your program is to write to standard output. The output must contain a single line with a non-negative integer which corresponds to the perimeter for the input rectangles.</p>
<p><strong>Sample Input</strong><br>7<br>-15 0 5 10<br>-5 8 20 25<br>15 -4 24 14<br>0 -6 16 4<br>2 15 10 22<br>30 10 36 20<br>34 0 40 16</p>
<p><strong>Sample Output</strong><br>228</p>
<p>求周长并</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5000</span> + <span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> v[maxn&lt;&lt;<span class="number">1</span>];</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tree</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> l, r;</div><div class="line">	<span class="keyword">int</span> len, num;		<span class="comment">// len是横边长  num是竖线段条数</span></div><div class="line">	<span class="keyword">int</span> cover, lc, rc;		<span class="comment">//是否被完全覆盖 两个端点是否被覆盖</span></div><div class="line">&#125;tree[maxn &lt;&lt; <span class="number">3</span>];</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Line</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> x1, x2, y;</div><div class="line">	<span class="keyword">int</span> flag;</div><div class="line">	Line() &#123;&#125;</div><div class="line">	Line(<span class="keyword">int</span> xx1, <span class="keyword">int</span> xx2, <span class="keyword">int</span> yy, <span class="keyword">int</span> ff) :x1(xx1), x2(xx2), y(yy), flag(ff) &#123;&#125;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Line &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">		<span class="keyword">return</span> y&lt;a.y;</div><div class="line">	&#125;</div><div class="line">&#125;line[maxn &lt;&lt; <span class="number">1</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> st, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">	tree[st].l = l; tree[st].r = r;</div><div class="line">	tree[st].cover = <span class="number">0</span>; tree[st].len = <span class="number">0</span>;</div><div class="line">	tree[st].lc = tree[st].rc = tree[st].num = <span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span> (l == r)<span class="keyword">return</span>;</div><div class="line">	<span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">	build(st &lt;&lt; <span class="number">1</span>, l, mid);</div><div class="line">	build(st &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, mid + <span class="number">1</span>, r);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> st)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (tree[st].cover &gt; <span class="number">0</span>) &#123;</div><div class="line">		tree[st].len = v[tree[st].r+<span class="number">1</span>] - v[tree[st].l];</div><div class="line">		tree[st].lc = <span class="number">1</span>; tree[st].rc = <span class="number">1</span>; tree[st].num = <span class="number">1</span>;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (tree[st].l == tree[st].r) &#123;</div><div class="line">		tree[st].lc = tree[st].rc = tree[st].num = tree[st].len = <span class="number">0</span>;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	tree[st].len = tree[st &lt;&lt; <span class="number">1</span>].len + tree[st &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].len;</div><div class="line">	tree[st].lc = tree[st &lt;&lt; <span class="number">1</span>].lc;</div><div class="line">	tree[st].rc = tree[st &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].rc;</div><div class="line">	tree[st].num = tree[st &lt;&lt; <span class="number">1</span>].num + tree[st &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].num - (tree[st &lt;&lt; <span class="number">1</span>].rc&amp;&amp;tree[st &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].lc);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> st, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> flag)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (tree[st].l == l&amp;&amp;tree[st].r == r) &#123;</div><div class="line">		tree[st].cover += flag;</div><div class="line">		pushdown(st);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> mid = (tree[st].l + tree[st].r) &gt;&gt; <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span> (r &lt;= mid)update(st &lt;&lt; <span class="number">1</span>, l, r, flag);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (l &gt; mid)update(st &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, l, r, flag);</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		update(st &lt;&lt; <span class="number">1</span>, l, mid, flag);</div><div class="line">		update(st &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, mid + <span class="number">1</span>, r, flag);</div><div class="line">	&#125;</div><div class="line">	pushdown(st);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">binSearch</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">	<span class="keyword">while</span> (l &lt;= r) &#123;</div><div class="line">		<span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line">		<span class="keyword">if</span> (v[mid] == key)<span class="keyword">return</span> mid;</div><div class="line">		<span class="keyword">if</span> (v[mid] &gt; key)r = mid - <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> l = mid + <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> n;</div><div class="line">	<span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n)) &#123;</div><div class="line">		<span class="keyword">int</span> vcnt = <span class="number">0</span>, lcnt = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;n; ++i) &#123;</div><div class="line">			<span class="keyword">int</span> x1, y1, x2, y2;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d %d %d %d"</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2);</div><div class="line">			line[lcnt++] = Line(x1, x2, y1, <span class="number">1</span>);</div><div class="line">			v[vcnt++] = x1;</div><div class="line">			line[lcnt++] = Line(x1, x2, y2, <span class="number">-1</span>);</div><div class="line">			v[vcnt++] = x2;</div><div class="line">		&#125;</div><div class="line">		sort(v, v + vcnt);</div><div class="line">		vcnt = unique(v, v + vcnt) - v;</div><div class="line">		sort(line, line + lcnt);</div><div class="line">		build(<span class="number">1</span>, <span class="number">0</span>, vcnt - <span class="number">2</span>);</div><div class="line">		<span class="keyword">int</span> res = <span class="number">0</span>, pre = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;lcnt; ++i) &#123;</div><div class="line">			<span class="keyword">int</span> l = binSearch(<span class="number">0</span>, vcnt - <span class="number">1</span>, line[i].x1);</div><div class="line">			<span class="keyword">int</span> r = binSearch(<span class="number">0</span>, vcnt - <span class="number">1</span>, line[i].x2) - <span class="number">1</span>;</div><div class="line">			update(<span class="number">1</span>, l, r, line[i].flag);</div><div class="line">			res += <span class="built_in">abs</span>(tree[<span class="number">1</span>].len - pre);</div><div class="line">			pre = tree[<span class="number">1</span>].len;</div><div class="line">			<span class="keyword">if</span> (i &lt; lcnt - <span class="number">1</span>)res += (line[i + <span class="number">1</span>].y - line[i].y) * <span class="number">2</span> * tree[<span class="number">1</span>].num;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, res);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/07/POJ/POJ-1177-Picture/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-POJ/POJ-2352-Stars" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/07/POJ/POJ-2352-Stars/">POJ 2352 Stars(树状数组)</a>
    </h1>
  

        
        <a href="/2017/10/07/POJ/POJ-2352-Stars/" class="archive-article-date">
  	<time datetime="2017-10-07T03:53:47.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-07</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong><br>Astronomers often examine star maps where stars are represented by points on a plane and each star has Cartesian coordinates. Let the level of a star be an amount of the stars that are not higher and not to the right of the given star. Astronomers want to know the distribution of the levels of the stars.<br>For example, look at the map shown on the figure above. Level of the star number 5 is equal to 3 (it’s formed by three stars with a numbers 1, 2 and 4). And the levels of the stars numbered by 2 and 4 are 1. At this map there are only one star of the level 0, two stars of the level 1, one star of the level 2, and one star of the level 3.<br><img src="https://github.com/makixi/makixi.github.io/raw/master/img/%E5%88%B7%E9%A2%98%E4%B8%93%E7%94%A8%E5%9B%BE/POJ2352.jpg" alt="2352"><br>You are to write a program that will count the amounts of the stars of each level on a given map.</p>
<p><strong>Input</strong><br>The first line of the input file contains a number of stars N (1&lt;=N&lt;=15000). The following N lines describe coordinates of stars (two integers X and Y per line separated by a space, 0&lt;=X,Y&lt;=32000). There can be only one star at one point of the plane. Stars are listed in ascending order of Y coordinate. Stars with equal Y coordinates are listed in ascending order of X coordinate.</p>
<p><strong>Output</strong><br>The output should contain N lines, one number per line. The first line contains amount of stars of the level 0, the second does amount of stars of the level 1 and so on, the last line contains amount of stars of the level N-1.</p>
<p><strong>Sample Input</strong><br>5<br>1 1<br>5 1<br>7 1<br>3 3<br>5 5</p>
<p><strong>Sample Output</strong><br>1<br>2<br>1<br>1<br>0</p>
<p><strong>Hint</strong><br>This problem has huge input data,use scanf() instead of cin to read data to avoid time limit exceed.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lowbit(i) ((i)&amp;(-i))</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">150000</span>;</div><div class="line"><span class="keyword">int</span> c[maxn],cnt[maxn];</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getsum</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> res=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=x;i&gt;=<span class="number">1</span>;i-=lowbit(i))res+=c[i];</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> v)</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=x;i&lt;maxn;i+=lowbit(i))c[i]+=v;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="built_in">cin</span>&gt;&gt;n;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</div><div class="line">		<span class="keyword">int</span> x,y;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;x,&amp;y);</div><div class="line">		cnt[getsum(x+<span class="number">1</span>)]++;</div><div class="line">		update(x+<span class="number">1</span>,<span class="number">1</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;++i)<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,cnt[i]);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/07/POJ/POJ-2352-Stars/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-POJ/POJ-2182-Lost-Cows" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/07/POJ/POJ-2182-Lost-Cows/">POJ 2182 Lost Cows(树状数组+n序数)</a>
    </h1>
  

        
        <a href="/2017/10/07/POJ/POJ-2182-Lost-Cows/" class="archive-article-date">
  	<time datetime="2017-10-07T01:52:51.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-07</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong><br>N (2 &lt;= N &lt;= 8,000) cows have unique brands in the range 1..N. In a spectacular display of poor judgment, they visited the neighborhood ‘watering hole’ and drank a few too many beers before dinner. When it was time to line up for their evening meal, they did not line up in the required ascending numerical order of their brands.<br>Regrettably, FJ does not have a way to sort them. Furthermore, he’s not very good at observing problems. Instead of writing down each cow’s brand, he determined a rather silly statistic: For each cow in line, he knows the number of cows that precede that cow in line that do, in fact, have smaller brands than that cow.<br>Given this data, tell FJ the exact ordering of the cows.</p>
<p><strong>Input</strong></p>
<ul>
<li>Line 1: A single integer, N</li>
<li>Lines 2..N: These N-1 lines describe the number of cows that precede a given cow in line and have brands smaller than that cow. Of course, no cows precede the first cow in line, so she is not listed. Line 2 of the input describes the number of preceding cows whose brands are smaller than the cow in slot #2; line 3 describes the number of preceding cows whose brands are smaller than the cow in slot #3; and so on.<br>Output</li>
<li>Lines 1..N: Each of the N lines of output tells the brand of a cow in line. Line #1 of the output tells the brand of the first cow in line; line 2 tells the brand of the second cow; and so on.</li>
</ul>
<p><strong>Sample Input</strong><br>5<br>1<br>2<br>1<br>0</p>
<p><strong>Sample Output</strong><br>2<br>4<br>5<br>3<br>1</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lowbit(i) ((i)&amp;(-i))</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">80000</span>;</div><div class="line"><span class="keyword">int</span> c[maxn],cow[maxn],res[maxn];</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getsum</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> res=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=x;i&gt;=<span class="number">1</span>;i-=lowbit(i))res+=c[i];</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> v)</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=x;i&lt;=n;i+=lowbit(i))c[i]+=v;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> key)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> l=<span class="number">1</span>,r=n,mid;</div><div class="line">	<span class="keyword">while</span>(l&lt;r)&#123;</div><div class="line">		mid=(l+r)&gt;&gt;<span class="number">1</span>;</div><div class="line">		<span class="keyword">if</span>(getsum(mid)&lt;key)l=mid+<span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> r=mid;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> l;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="built_in">cin</span>&gt;&gt;n;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;++i)<span class="built_in">cin</span>&gt;&gt;cow[i];</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)update(i,<span class="number">1</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;=<span class="number">1</span>;--i)&#123;</div><div class="line">		<span class="keyword">int</span> k=search(cow[i]+<span class="number">1</span>);</div><div class="line">		update(k,<span class="number">-1</span>);</div><div class="line">		res[i]=k;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)<span class="built_in">cout</span>&lt;&lt;res[i]&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/07/POJ/POJ-2182-Lost-Cows/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-POJ/POJ-3321-Apple-Tree" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/06/POJ/POJ-3321-Apple-Tree/">POJ 3321 Apple Tree(图+树状数组)</a>
    </h1>
  

        
        <a href="/2017/10/06/POJ/POJ-3321-Apple-Tree/" class="archive-article-date">
  	<time datetime="2017-10-06T03:52:10.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-06</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong><br>There is an apple tree outside of kaka’s house. Every autumn, a lot of apples will grow in the tree. Kaka likes apple very much, so he has been carefully nurturing the big apple tree.<br>The tree has N forks which are connected by branches. Kaka numbers the forks by 1 to N and the root is always numbered by 1. Apples will grow on the forks and two apple won’t grow on the same fork. kaka wants to know how many apples are there in a sub-tree, for his study of the produce ability of the apple tree.<br>The trouble is that a new apple may grow on an empty fork some time and kaka may pick an apple from the tree for his dessert. Can you help kaka?</p>
<p><strong>Input</strong><br>The first line contains an integer N (N ≤ 100,000) , which is the number of the forks in the tree.<br>The following N - 1 lines each contain two integers u and v, which means fork u and fork v are connected by a branch.<br>The next line contains an integer M (M ≤ 100,000).<br>The following M lines each contain a message which is either<br>“C x” which means the existence of the apple on fork x has been changed. i.e. if there is an apple on the fork, then Kaka pick it; otherwise a new apple has grown on the empty fork.<br>or “Q x” which means an inquiry for the number of apples in the sub-tree above the fork x, including the apple (if exists) on the fork x<br>Note the tree is full of apples at the beginning<br><img src="https://github.com/makixi/makixi.github.io/raw/master/img/%E5%88%B7%E9%A2%98%E4%B8%93%E7%94%A8%E5%9B%BE/POJ3321.gif" alt="3321"><br><strong>Output</strong><br>For every inquiry, output the correspond answer per line.</p>
<p><strong>Sample Input</strong><br>3<br>1 2<br>1 3<br>3<br>Q 1<br>C 2<br>Q 1</p>
<p><strong>Sample Output</strong><br>3<br>2</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lowbit(i) ((i)&amp;(-i))</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">220000</span>;</div><div class="line"><span class="keyword">int</span> cnt;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; e(maxn/<span class="number">2</span>);</div><div class="line"><span class="keyword">int</span> s[maxn],d[maxn],c[maxn];</div><div class="line"><span class="keyword">bool</span> apple[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123;</div><div class="line">	s[v]=++cnt;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;e[v].size();++i)dfs(e[v][i]);</div><div class="line">	d[v]=++cnt;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getsum</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = x; i &gt;= <span class="number">1</span>; i -= lowbit(i))res += c[i];</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> v)</span></span>&#123;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = x; i &lt;= cnt; i += lowbit(i))c[i] += v;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	cnt=<span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> n;</div><div class="line">	<span class="built_in">cin</span>&gt;&gt;n;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;++i)&#123;</div><div class="line">		<span class="keyword">int</span> a,b;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a,&amp;b);</div><div class="line">		e[a].push_back(b);</div><div class="line">	&#125;</div><div class="line">	dfs(<span class="number">1</span>);</div><div class="line">	fill(apple,apple+n+<span class="number">1</span>,<span class="literal">true</span>);</div><div class="line">	<span class="keyword">int</span> m;</div><div class="line">	<span class="built_in">cin</span>&gt;&gt;m;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=cnt;++i)c[i]=lowbit(i);</div><div class="line">	<span class="keyword">while</span>(m--)&#123;</div><div class="line">		<span class="keyword">char</span> ch;</div><div class="line">		<span class="keyword">int</span> q;</div><div class="line">		<span class="built_in">cin</span>&gt;&gt;ch&gt;&gt;q;</div><div class="line">		<span class="keyword">if</span>(ch==<span class="string">'Q'</span>) <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, (getsum(d[q]) - getsum(s[q] - <span class="number">1</span>)) / <span class="number">2</span>);</div><div class="line">		<span class="keyword">else</span>&#123;</div><div class="line">			<span class="keyword">if</span> (apple[q]) &#123;</div><div class="line">				update(s[q], <span class="number">-1</span>); update(d[q], <span class="number">-1</span>);</div><div class="line">				apple[q] = <span class="number">0</span>;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span> &#123;</div><div class="line">				update(s[q], <span class="number">1</span>); update(d[q], <span class="number">1</span>);</div><div class="line">				apple[q] = <span class="number">1</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/06/POJ/POJ-3321-Apple-Tree/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-POJ/POJ-2528-Mayor-s-posters" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/05/POJ/POJ-2528-Mayor-s-posters/">POJ 2528 Mayor&#39;s posters(离散化+线段树)</a>
    </h1>
  

        
        <a href="/2017/10/05/POJ/POJ-2528-Mayor-s-posters/" class="archive-article-date">
  	<time datetime="2017-10-05T08:13:26.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-05</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong><br>The citizens of Bytetown, AB, could not stand that the candidates in the mayoral election campaign have been placing their electoral posters at all places at their whim. The city council has finally decided to build an electoral wall for placing the posters and introduce the following rules:</p>
<ul>
<li>Every candidate can place exactly one poster on the wall.</li>
<li>All posters are of the same height equal to the height of the wall; the width of a poster can be any integer number of bytes (byte is the unit of length in Bytetown).</li>
<li>The wall is divided into segments and the width of each segment is one byte.</li>
<li>Each poster must completely cover a contiguous number of wall segments.</li>
</ul>
<p>They have built a wall 10000000 bytes long (such that there is enough place for all candidates). When the electoral campaign was restarted, the candidates were placing their posters on the wall and their posters differed widely in width. Moreover, the candidates started placing their posters on wall segments already occupied by other posters. Everyone in Bytetown was curious whose posters will be visible (entirely or in part) on the last day before elections.<br>Your task is to find the number of visible posters when all the posters are placed given the information about posters’ size, their place and order of placement on the electoral wall.</p>
<p><strong>Input</strong><br>The first line of input contains a number c giving the number of cases that follow. The first line of data for a single case contains number 1 &lt;= n &lt;= 10000. The subsequent n lines describe the posters in the order in which they were placed. The i-th line among the n lines contains two integer numbers li and ri which are the number of the wall segment occupied by the left end and the right end of the i-th poster, respectively. We know that for each 1 &lt;= i &lt;= n, 1 &lt;= li &lt;= ri &lt;= 10000000. After the i-th poster is placed, it entirely covers all wall segments numbered li, li+1 ,… , ri.</p>
<p><strong>Output</strong><br>For each input data set print the number of visible posters after all the posters are placed.<br>The picture below illustrates the case of the sample input.<br><img src="https://github.com/makixi/makixi.github.io/raw/master/img/%E5%88%B7%E9%A2%98%E4%B8%93%E7%94%A8%E5%9B%BE/POJ2528.jpg" alt="POJ2528"></p>
<p><strong>Sample Input</strong><br>1<br>5<br>1 4<br>2 6<br>8 10<br>3 4<br>7 10</p>
<p><strong>Sample Output</strong><br>4</p>
<p>直接用数组st&lt;&lt;1 和st&lt;&lt;1|1会RT 估计是满二叉树的结构太占内存，后来就换成链式AC了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10000</span> + <span class="number">100</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> l, r;</div><div class="line">&#125;nd[maxn];</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">state</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> l, r;</div><div class="line">	<span class="keyword">bool</span> isCovered;</div><div class="line">	state *lchild, *rchild;</div><div class="line">&#125;v[<span class="number">10000000</span>];</div><div class="line"><span class="keyword">int</span> x[maxn*<span class="number">2</span>];<span class="comment">//端点</span></div><div class="line"><span class="keyword">int</span> _hash[<span class="number">10000000</span> + <span class="number">10</span>];</div><div class="line"><span class="keyword">int</span> nodeNum;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Mid</span><span class="params">(state *root)</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> (root-&gt;l + root-&gt;r) &gt;&gt; <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(state *root, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">	root-&gt;l = l; root-&gt;r = r;</div><div class="line">	root-&gt;isCovered = <span class="literal">false</span>;</div><div class="line">	<span class="keyword">if</span> (l == r)<span class="keyword">return</span>;</div><div class="line">	nodeNum++;</div><div class="line">	root-&gt;lchild = v + nodeNum;</div><div class="line">	nodeNum++;</div><div class="line">	root-&gt;rchild = v + nodeNum;</div><div class="line">	build(root-&gt;lchild, l, (l + r) / <span class="number">2</span>);</div><div class="line">	build(root-&gt;rchild, (l + r) / <span class="number">2</span> + <span class="number">1</span>, r);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(state *root, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (root-&gt;isCovered)<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	<span class="keyword">if</span> (root-&gt;l == l&amp;&amp;root-&gt;r == r) &#123;</div><div class="line">		root-&gt;isCovered = <span class="literal">true</span>;</div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">bool</span> res;</div><div class="line">	<span class="keyword">int</span> mid = Mid(root);</div><div class="line">	<span class="keyword">if</span> (mid &gt;= r)res = judge(root-&gt;lchild, l, r);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (mid &lt; l)res = judge(root-&gt;rchild, l, r);</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		<span class="keyword">bool</span> b1 = judge(root-&gt;lchild, l, mid);</div><div class="line">		<span class="keyword">bool</span> b2 = judge(root-&gt;rchild, mid + <span class="number">1</span>, r);</div><div class="line">		res = b1 || b2;</div><div class="line">	&#125;</div><div class="line">	root-&gt;isCovered = (root-&gt;lchild-&gt;isCovered&amp;&amp;root-&gt;rchild-&gt;isCovered);</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> n,t;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;t);</div><div class="line">	<span class="keyword">while</span> (t--) &#123;</div><div class="line">		<span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">		nodeNum = <span class="number">0</span>;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;nd[i].l, &amp;nd[i].r);</div><div class="line">			x[cnt++] = nd[i].l; x[cnt++] = nd[i].r;</div><div class="line">		&#125;</div><div class="line">		sort(x, x + cnt);</div><div class="line">		cnt = unique(x, x + cnt) - x;</div><div class="line">		<span class="keyword">int</span> no = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cnt; ++i,++no) _hash[x[i]] = no;</div><div class="line">		--no;</div><div class="line">		<span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">		build(v, <span class="number">0</span>, no);</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)</div><div class="line">			<span class="keyword">if</span> (judge(v, _hash[nd[i].l],_hash[nd[i].r]))++res;</div><div class="line">		<span class="built_in">cout</span> &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/05/POJ/POJ-2528-Mayor-s-posters/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-HDOJ/HDOJ-1556-Color-the-ball" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/05/HDOJ/HDOJ-1556-Color-the-ball/">HDOJ 1556 Color the ball(差分数组)</a>
    </h1>
  

        
        <a href="/2017/10/05/HDOJ/HDOJ-1556-Color-the-ball/" class="archive-article-date">
  	<time datetime="2017-10-05T03:34:19.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-05</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Problem Description</strong><br>N个气球排成一排，从左到右依次编号为1,2,3….N.每次给定2个整数a b(a &lt;= b),lele便为骑上他的“小飞鸽”牌电动车从气球a开始到气球b依次给每个气球涂一次颜色。但是N次以后lele已经忘记了第I个气球已经涂过几次颜色了，你能帮他算出每个气球被涂过几次颜色吗？</p>
<p><strong>Input</strong><br>每个测试实例第一行为一个整数N,(N &lt;= 100000).接下来的N行，每行包括2个整数a b(1 &lt;= a &lt;= b &lt;= N)。当N = 0，输入结束。</p>
<p><strong>Output</strong><br>每个测试实例输出一行，包括N个整数，第I个数代表第I个气球总共被涂色的次数。</p>
<p><strong>Sample Input</strong><br>3 1 1 2 2 3 3 3 1 1 1 2 1 3 0</p>
<p><strong>Sample Output</strong><br>1 1 1 3 2 1</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">int</span> a[maxn],d[maxn],sum[maxn];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> n;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&amp;&amp;n)&#123;</div><div class="line">		<span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</div><div class="line">		d[<span class="number">1</span>]=a[<span class="number">1</span>];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;++i)d[i]=a[i]-a[i<span class="number">-1</span>];</div><div class="line">		<span class="keyword">int</span> l,r;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</div><div class="line">			<span class="built_in">cin</span>&gt;&gt;l&gt;&gt;r;</div><div class="line">			d[l]+=<span class="number">1</span>;d[r+<span class="number">1</span>]-=<span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)sum[i]=sum[i<span class="number">-1</span>]+d[i];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</div><div class="line">			<span class="keyword">if</span>(i!=<span class="number">1</span>)<span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>;</div><div class="line">			<span class="built_in">cout</span>&lt;&lt;sum[i];</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/05/HDOJ/HDOJ-1556-Color-the-ball/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-POJ/POJ-3468-A-Simple-Problem-with-Integers" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/05/POJ/POJ-3468-A-Simple-Problem-with-Integers/">POJ 3468 A Simple Problem with Integers(树状数组 线段树)</a>
    </h1>
  

        
        <a href="/2017/10/05/POJ/POJ-3468-A-Simple-Problem-with-Integers/" class="archive-article-date">
  	<time datetime="2017-10-05T00:56:05.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-05</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong><br>You have N integers, A1, A2, … , AN. You need to deal with two kinds of operations. One type of operation is to add some given number to each number in a given interval. The other is to ask for the sum of numbers in a given interval.</p>
<p><strong>Input</strong><br>The first line contains two numbers N and Q. 1 ≤ N,Q ≤ 100000.<br>The second line contains N numbers, the initial values of A1, A2, … , AN. -1000000000 ≤ Ai ≤ 1000000000.<br>Each of the next Q lines represents an operation.<br>“C a b c” means adding c to each of Aa, Aa+1, … , Ab. -10000 ≤ c ≤ 10000.<br>“Q a b” means querying the sum of Aa, Aa+1, … , Ab.</p>
<p><strong>Output</strong><br>You need to answer all Q commands in order. One answer in a line.</p>
<p><strong>Sample Input</strong><br>10 5<br>1 2 3 4 5 6 7 8 9 10<br>Q 4 4<br>Q 1 10<br>Q 2 4<br>C 3 6 3<br>Q 2 4</p>
<p><strong>Sample Output</strong><br>4<br>55<br>9<br>15</p>
<p><strong>Hint</strong><br>The sums may exceed the range of 32-bit integers.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lowbit(i) ((i)&amp;(-i))</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</div><div class="line">ll c[maxn],c1[maxn],n,q;</div><div class="line"><span class="function">ll <span class="title">getsum</span><span class="params">(ll *cc,<span class="keyword">int</span> i)</span></span>&#123;</div><div class="line">    ll res = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(;i&gt;=<span class="number">1</span>;i-=lowbit(i))res+=cc[i];</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(ll *cc,<span class="keyword">int</span> i,<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(;i&lt;=n;i+=lowbit(i))cc[i]+=x;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;q;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i&lt;=n; i++) &#123;</div><div class="line">        ll num;<span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;num);</div><div class="line">        update(c,i, num);</div><div class="line">    &#125;</div><div class="line">    getchar();</div><div class="line">    <span class="keyword">while</span> (q--) &#123;</div><div class="line">        <span class="keyword">char</span> ch;</div><div class="line">        ch = getchar();</div><div class="line">        <span class="keyword">if</span> (ch == <span class="string">'Q'</span>) &#123;</div><div class="line">            <span class="keyword">int</span> a,b;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a,&amp;b);</div><div class="line">            getchar();</div><div class="line">            ll ans = <span class="number">0</span>;</div><div class="line">            ans += getsum(c,b) + getsum(c1,b)*b;</div><div class="line">            ans -= getsum(c,a<span class="number">-1</span>) + getsum(c1,a<span class="number">-1</span>)*(a<span class="number">-1</span>);<span class="comment">//区间求和</span></div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (ch == <span class="string">'C'</span>) &#123;</div><div class="line">            <span class="keyword">int</span> a,b,v;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;a,&amp;b,&amp;v);</div><div class="line">            getchar();</div><div class="line">            update(c,a, -v*(a - <span class="number">1</span>));</div><div class="line">            update(c1, a,v);</div><div class="line">            update(c, b+<span class="number">1</span>,v*b);</div><div class="line">            update(c1,b+<span class="number">1</span>, -v);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> l;</div><div class="line">	<span class="keyword">int</span> r;</div><div class="line">	ll sum;</div><div class="line">	ll incre;</div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">mid</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> (l+r)&gt;&gt;<span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">&#125;v[maxn*<span class="number">4</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> st)</span></span>&#123;</div><div class="line">	v[st].l=l;</div><div class="line">	v[st].r=r;</div><div class="line">	v[st].sum=<span class="number">0</span>;</div><div class="line">	v[st].incre=<span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span>(l==r)<span class="keyword">return</span>;</div><div class="line">	<span class="keyword">int</span> mid=v[st].mid();</div><div class="line">	build(l,mid,st&lt;&lt;<span class="number">1</span>);</div><div class="line">	build(mid+<span class="number">1</span>,r,st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> pos,<span class="keyword">int</span> val)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(pos==v[st].l&amp;&amp;v[st].l==v[st].r)&#123;</div><div class="line">		v[st].sum=val;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	v[st].sum+=val;</div><div class="line">	<span class="keyword">int</span> mid=v[st].mid();</div><div class="line">	<span class="keyword">if</span>(pos&lt;=mid)insert(st&lt;&lt;<span class="number">1</span>,pos,val);</div><div class="line">	<span class="keyword">else</span> insert(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,pos,val);</div><div class="line">	<span class="comment">//v[st].sum=v[st&lt;&lt;1].sum+v[st&lt;&lt;1|1].sum;</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> l,<span class="keyword">int</span> r,ll val)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(v[st].l==l&amp;&amp;v[st].r==r)&#123;</div><div class="line">		v[st].incre+=val;</div><div class="line">		v[st].sum+=val*(r-l+<span class="number">1</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(v[st].l==v[st].r)<span class="keyword">return</span>;</div><div class="line">	<span class="keyword">if</span>(v[st].incre)&#123;</div><div class="line">		v[st&lt;&lt;<span class="number">1</span>].incre+=v[st].incre;</div><div class="line">		v[st&lt;&lt;<span class="number">1</span>].sum+=v[st].incre*(v[st&lt;&lt;<span class="number">1</span>].r-v[st&lt;&lt;<span class="number">1</span>].l+<span class="number">1</span>);</div><div class="line">		v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].incre+=v[st].incre;</div><div class="line">		v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum+=v[st].incre*(v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].r-v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].l+<span class="number">1</span>);</div><div class="line">		v[st].incre=<span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> mid=v[st].mid();</div><div class="line">	<span class="keyword">if</span>(mid&gt;=r)update(st&lt;&lt;<span class="number">1</span>,l,r,val);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(mid&lt;l)update(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,l,r,val);</div><div class="line">	<span class="keyword">else</span>&#123;</div><div class="line">		update(st&lt;&lt;<span class="number">1</span>,l,mid,val);</div><div class="line">		update(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r,val);</div><div class="line">	&#125;</div><div class="line">	v[st].sum=v[st&lt;&lt;<span class="number">1</span>].sum+v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">ll <span class="title">getsum</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(v[st].l==l&amp;&amp;v[st].r==r)</div><div class="line">		<span class="keyword">return</span> v[st].sum;</div><div class="line">	<span class="keyword">if</span>(v[st].incre)&#123;</div><div class="line">		v[st&lt;&lt;<span class="number">1</span>].incre+=v[st].incre;</div><div class="line">		v[st&lt;&lt;<span class="number">1</span>].sum+=v[st].incre*(v[st&lt;&lt;<span class="number">1</span>].r-v[st&lt;&lt;<span class="number">1</span>].l+<span class="number">1</span>);</div><div class="line">		v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].incre+=v[st].incre;</div><div class="line">		v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum+=v[st].incre*(v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].r-v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].l+<span class="number">1</span>);</div><div class="line">		v[st].incre=<span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> mid=v[st].mid();</div><div class="line">	<span class="keyword">if</span>(mid&gt;=r)<span class="keyword">return</span> getsum(st&lt;&lt;<span class="number">1</span>,l,r);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(mid&lt;l)<span class="keyword">return</span> getsum(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,l,r);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> getsum(st&lt;&lt;<span class="number">1</span>,l,mid)+getsum(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> q;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;q);</div><div class="line">	build(<span class="number">1</span>,n,<span class="number">1</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</div><div class="line">		ll num;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;num);</div><div class="line">		insert(<span class="number">1</span>,i,num);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">while</span>(q--)&#123;</div><div class="line">		<span class="keyword">char</span> c;</div><div class="line">		<span class="built_in">cin</span>&gt;&gt;c;</div><div class="line">		<span class="keyword">if</span>(c==<span class="string">'Q'</span>)&#123;</div><div class="line">			<span class="keyword">int</span> a,b;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a,&amp;b);</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,getsum(<span class="number">1</span>,a,b));</div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			<span class="keyword">int</span> a,b,v;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;a,&amp;b,&amp;v);</div><div class="line">			update(<span class="number">1</span>,a,b,v);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/05/POJ/POJ-3468-A-Simple-Problem-with-Integers/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-POJ/POJ-3264-Balanced-Lineup" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/04/POJ/POJ-3264-Balanced-Lineup/">POJ 3264 Balanced Lineup(线段树)</a>
    </h1>
  

        
        <a href="/2017/10/04/POJ/POJ-3264-Balanced-Lineup/" class="archive-article-date">
  	<time datetime="2017-10-04T01:09:20.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-04</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong><br>For the daily milking, Farmer John’s N cows (1 ≤ N ≤ 50,000) always line up in the same order. One day Farmer John decides to organize a game of Ultimate Frisbee with some of the cows. To keep things simple, he will take a contiguous range of cows from the milking lineup to play the game. However, for all the cows to have fun they should not differ too much in height.<br>Farmer John has made a list of Q (1 ≤ Q ≤ 200,000) potential groups of cows and their heights (1 ≤ height ≤ 1,000,000). For each group, he wants your help to determine the difference in height between the shortest and the tallest cow in the group.</p>
<p><strong>Input</strong><br>Line 1: Two space-separated integers, N and Q.<br>Lines 2..N+1: Line i+1 contains a single integer that is the height of cow i<br>Lines N+2..N+Q+1: Two integers A and B (1 ≤ A ≤ B ≤ N), representing the range of cows from A to B inclusive.</p>
<p><strong>Output</strong><br>Lines 1..Q: Each line contains a single integer that is a response to a reply and indicates the difference in height between the tallest and shortest cow in the range.</p>
<p><strong>Sample Input</strong><br>6 3<br>1<br>7<br>3<br>4<br>2<br>5<br>1 5<br>4 6<br>2 2</p>
<p><strong>Sample Output</strong><br>6<br>3<br>0</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">800010</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf=<span class="number">0x3f3f3f3f</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> l,r;</div><div class="line">	<span class="keyword">int</span> minval,maxval;</div><div class="line">&#125;v[maxn];</div><div class="line"></div><div class="line"><span class="keyword">int</span> maxres,minres;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> st)</span></span>&#123;</div><div class="line">	v[st].l=l;</div><div class="line">	v[st].r=r;</div><div class="line">	v[st].maxval=-inf;</div><div class="line">	v[st].minval=inf;</div><div class="line">	<span class="keyword">if</span>(l==r)<span class="keyword">return</span>;</div><div class="line">	<span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</div><div class="line">	build(l,mid,st&lt;&lt;<span class="number">1</span>);</div><div class="line">	build(mid+<span class="number">1</span>,r,st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> pos,<span class="keyword">int</span> val)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(v[st].l==v[st].r)&#123;</div><div class="line">		v[st].maxval=val;</div><div class="line">		v[st].minval=val;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> mid=(v[st].l+v[st].r)&gt;&gt;<span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(pos&lt;=mid)insert(st&lt;&lt;<span class="number">1</span>,pos,val);</div><div class="line">	<span class="keyword">else</span> insert(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,pos,val);</div><div class="line">	v[st].maxval=max(v[st&lt;&lt;<span class="number">1</span>].maxval,v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].maxval);</div><div class="line">	v[st].minval=min(v[st&lt;&lt;<span class="number">1</span>].minval,v[st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].minval);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(v[st].maxval&lt;=maxres&amp;&amp;v[st].minval&gt;=minres)<span class="keyword">return</span>;</div><div class="line">	<span class="keyword">if</span>(l==v[st].l&amp;&amp;r==v[st].r)&#123;</div><div class="line">		maxres=max(maxres,v[st].maxval);</div><div class="line">		minres=min(minres,v[st].minval);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> mid=(v[st].l+v[st].r)&gt;&gt;<span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(r&lt;=mid)query(st&lt;&lt;<span class="number">1</span>,l,r);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(l&gt;mid)query(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,l,r);</div><div class="line">	<span class="keyword">else</span>&#123;</div><div class="line">		query(st&lt;&lt;<span class="number">1</span>,l,mid);</div><div class="line">		query(st&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> n,q;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;q);</div><div class="line">	build(<span class="number">1</span>,n,<span class="number">1</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</div><div class="line">		<span class="keyword">int</span> tmp;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;tmp);</div><div class="line">		insert(<span class="number">1</span>,i,tmp);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">while</span>(q--)&#123;</div><div class="line">		maxres=-inf,minres=inf;</div><div class="line">		<span class="keyword">int</span> a,b;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a,&amp;b);</div><div class="line">		query(<span class="number">1</span>,a,b);</div><div class="line">		<span class="built_in">cout</span>&lt;&lt;maxres-minres&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/04/POJ/POJ-3264-Balanced-Lineup/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-POJ/POJ-1475-Pushing-Boxes" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/03/POJ/POJ-1475-Pushing-Boxes/">POJ 1475 Pushing Boxes(A*+BFS)</a>
    </h1>
  

        
        <a href="/2017/10/03/POJ/POJ-1475-Pushing-Boxes/" class="archive-article-date">
  	<time datetime="2017-10-03T05:56:56.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-10-03</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Description</strong><br>Imagine you are standing inside a two-dimensional maze composed of square cells which may or may not be filled with rock. You can move north, south, east or west one cell at a step. These moves are called walks.<br>One of the empty cells contains a box which can be moved to an adjacent free cell by standing next to the box and then moving in the direction of the box. Such a move is called a push. The box cannot be moved in any other way than by pushing, which means that if you push it into a corner you can never get it out of the corner again.<br>One of the empty cells is marked as the target cell. Your job is to bring the box to the target cell by a sequence of walks and pushes. As the box is very heavy, you would like to minimize the number of pushes. Can you write a program that will work out the best such sequence?<br><img src="https://github.com/makixi/makixi.github.io/raw/master/img/%E5%88%B7%E9%A2%98%E4%B8%93%E7%94%A8%E5%9B%BE/POJ1475.jpg" alt="POJ1475"></p>
<p><strong>Input</strong><br>The input contains the descriptions of several mazes. Each maze description starts with a line containing two integers r and c (both &lt;= 20) representing the number of rows and columns of the maze.<br>Following this are r lines each containing c characters. Each character describes one cell of the maze. A cell full of rock is indicated by a <code>#</code> and an empty cell is represented by a <code>.</code>. Your starting position is symbolized by <code>S</code>, the starting position of the box by <code>B</code> and the target cell by <code>T</code>.<br>Input is terminated by two zeroes for r and c.</p>
<p><strong>Output</strong><br>For each maze in the input, first print the number of the maze, as shown in the sample output. Then, if it is impossible to bring the box to the target cell, print ``Impossible.’’.<br>Otherwise, output a sequence that minimizes the number of pushes. If there is more than one such sequence, choose the one that minimizes the number of total moves (walks and pushes). If there is still more than one such sequence, any one is acceptable.<br>Print the sequence as a string of the characters N, S, E, W, n, s, e and w where uppercase letters stand for pushes, lowercase letters stand for walks and the different letters stand for the directions north, south, east and west.<br>Output a single blank line after each test case.</p>
<p><strong>Sample Input</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">1 7</div><div class="line">SB....T</div><div class="line">1 7</div><div class="line">SB..<span class="comment">#.T</span></div><div class="line">7 11</div><div class="line"><span class="comment">###########</span></div><div class="line"><span class="comment">#T##......#</span></div><div class="line"><span class="comment">#.#.#..####</span></div><div class="line"><span class="comment">#....B....#</span></div><div class="line"><span class="comment">#.######..#</span></div><div class="line"><span class="comment">#.....S...#</span></div><div class="line"><span class="comment">###########</span></div><div class="line">8 4</div><div class="line">....</div><div class="line">.<span class="comment">##.</span></div><div class="line">.<span class="comment">#..</span></div><div class="line">.<span class="comment">#..</span></div><div class="line">.<span class="comment">#.B</span></div><div class="line">.<span class="comment">##S</span></div><div class="line">....</div><div class="line"><span class="comment">###T</span></div><div class="line">0 0</div></pre></td></tr></table></figure></p>
<p><strong>Sample Output</strong><br>Maze #1<br>EEEEE</p>
<p>Maze #2<br>Impossible.</p>
<p>Maze #3<br>eennwwWWWWeeeeeesswwwwwwwnNN</p>
<p>Maze #4<br>swwwnnnnnneeesssSSS</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">int</span> r, c;</div><div class="line"><span class="keyword">int</span> dx[] = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span> &#125;;<span class="comment">//N S W E</span></div><div class="line"><span class="keyword">int</span> dy[] = &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">1</span> &#125;;</div><div class="line"><span class="keyword">int</span> mark[<span class="number">22</span>][<span class="number">22</span>][<span class="number">22</span>][<span class="number">22</span>][<span class="number">2</span>];		<span class="comment">//记录这四个坐标 push以及walk的最小值</span></div><div class="line"><span class="keyword">int</span> fa[<span class="number">22</span>][<span class="number">22</span>][<span class="number">22</span>][<span class="number">22</span>][<span class="number">4</span>];	<span class="comment">//记录父节点的四个坐标 sx sy boxx boxy</span></div><div class="line"><span class="keyword">char</span> maze[<span class="number">22</span>][<span class="number">22</span>];</div><div class="line"><span class="keyword">bool</span> success;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> x, y;</div><div class="line">&#125;s,b,t;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">state</span> &#123;</span></div><div class="line">	node s, b;</div><div class="line">	<span class="keyword">int</span> push, walk;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> state &amp;a)<span class="keyword">const</span> &#123;</div><div class="line">		<span class="keyword">if</span> (push != a.push)<span class="keyword">return</span> a.push &lt; push;</div><div class="line">		<span class="keyword">return</span> a.walk &lt; walk;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (x &lt;= <span class="number">0</span> || y &lt;= <span class="number">0</span> || x &gt; r || y &gt; c)<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	<span class="keyword">if</span> (maze[x][y] == <span class="string">'#'</span>)<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">outputpath</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> g)</span></span>&#123;</div><div class="line">	<span class="keyword">char</span> res[<span class="number">10000</span>];</div><div class="line">	<span class="keyword">int</span> x1 = x, y1 = y, x2 = t.x, y2 = t.y;<span class="comment">//我的位置和箱子的位置</span></div><div class="line">	<span class="keyword">int</span> j = g;</div><div class="line">	<span class="keyword">while</span> (j&gt;<span class="number">0</span>)&#123;</div><div class="line">		<span class="keyword">int</span> fx1, fx2, fy1, fy2;</div><div class="line">		<span class="keyword">char</span> tmp = <span class="string">'a'</span>;</div><div class="line">		fx1 = fa[x1][y1][x2][y2][<span class="number">0</span>]; fy1 = fa[x1][y1][x2][y2][<span class="number">1</span>];</div><div class="line">		fx2 = fa[x1][y1][x2][y2][<span class="number">2</span>]; fy2 = fa[x1][y1][x2][y2][<span class="number">3</span>];</div><div class="line">		<span class="keyword">if</span> (fx2 != x2 || fy2 != y2) tmp = <span class="string">'A'</span>;</div><div class="line">		<span class="keyword">if</span> (x1 - fx1 == <span class="number">-1</span>) res[j] = <span class="string">'N'</span> - <span class="string">'A'</span> + tmp;</div><div class="line">		<span class="keyword">if</span> (x1 - fx1 == <span class="number">1</span>) res[j] = <span class="string">'S'</span> - <span class="string">'A'</span> + tmp;</div><div class="line">		<span class="keyword">if</span> (y1 - fy1 == <span class="number">-1</span>) res[j] = <span class="string">'W'</span> - <span class="string">'A'</span> + tmp;</div><div class="line">		<span class="keyword">if</span> (y1 - fy1 == <span class="number">1</span>) res[j] = <span class="string">'E'</span> - <span class="string">'A'</span> + tmp;</div><div class="line">		j--; x1 = fx1, y1 = fy1, x2 = fx2, y2 = fy2;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= g; i++)<span class="built_in">printf</span>(<span class="string">"%c"</span>, res[i]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">best</span><span class="params">(state n)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span> (mark[n.s.x][n.s.y][n.b.x][n.b.y][<span class="number">0</span>] != n.push)</div><div class="line">		<span class="keyword">return</span> n.push&lt;mark[n.s.x][n.s.y][n.b.x][n.b.y][<span class="number">0</span>];</div><div class="line">	<span class="keyword">return</span> n.walk&lt;mark[n.s.x][n.s.y][n.b.x][n.b.y][<span class="number">1</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">AStar</span><span class="params">()</span> </span>&#123;</div><div class="line">	priority_queue&lt;state&gt; q;</div><div class="line">	<span class="built_in">memset</span>(fa, <span class="number">0</span>, <span class="keyword">sizeof</span>(fa));</div><div class="line">	<span class="built_in">memset</span>(mark, <span class="number">0x7f</span>, <span class="keyword">sizeof</span>(mark));</div><div class="line">	state curr, nex;</div><div class="line">	curr.s = s; curr.b = b; curr.walk = <span class="number">0</span>; curr.push = <span class="number">0</span>;</div><div class="line">	q.push(curr);</div><div class="line">	<span class="keyword">while</span> (!q.empty()) &#123;</div><div class="line">		curr = q.top(); q.pop();</div><div class="line">		<span class="keyword">if</span> (curr.b.x == t.x&amp;&amp;curr.b.y == t.y) &#123;</div><div class="line">			success = <span class="literal">true</span>;</div><div class="line">			outputpath(curr.s.x, curr.s.y, curr.push + curr.walk);</div><div class="line">			<span class="keyword">return</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</div><div class="line">			<span class="keyword">int</span> nx = curr.s.x + dx[i];</div><div class="line">			<span class="keyword">int</span> ny = curr.s.y + dy[i];</div><div class="line">			<span class="keyword">if</span> (judge(nx, ny)) &#123;</div><div class="line">				nex.s.x = nx; nex.s.y = ny;</div><div class="line">				<span class="keyword">if</span> (curr.b.x == nx&amp;&amp;curr.b.y == ny) &#123;</div><div class="line">					<span class="keyword">if</span> (!judge(nx + dx[i], ny + dy[i]))<span class="keyword">continue</span>;</div><div class="line">					nex.b.x = nx + dx[i];</div><div class="line">					nex.b.y = ny + dy[i];</div><div class="line">					nex.push = curr.push + <span class="number">1</span>;</div><div class="line">					nex.walk = curr.walk;</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">else</span> &#123;</div><div class="line">					nex.b.x = curr.b.x; nex.b.y = curr.b.y;</div><div class="line">					nex.push = curr.push; nex.walk = curr.walk + <span class="number">1</span>;</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">if</span> (best(nex))&#123;</div><div class="line">					fa[nex.s.x][nex.s.y][nex.b.x][nex.b.y][<span class="number">0</span>] = curr.s.x;</div><div class="line">					fa[nex.s.x][nex.s.y][nex.b.x][nex.b.y][<span class="number">1</span>] = curr.s.y;</div><div class="line">					fa[nex.s.x][nex.s.y][nex.b.x][nex.b.y][<span class="number">2</span>] = curr.b.x;</div><div class="line">					fa[nex.s.x][nex.s.y][nex.b.x][nex.b.y][<span class="number">3</span>] = curr.b.y;</div><div class="line">					mark[nex.s.x][nex.s.y][nex.b.x][nex.b.y][<span class="number">0</span>] = nex.push;</div><div class="line">					mark[nex.s.x][nex.s.y][nex.b.x][nex.b.y][<span class="number">1</span>] = nex.walk;</div><div class="line">					q.push(nex);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> cas = <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; r &gt;&gt; c &amp;&amp; r &amp;&amp; c) &#123;</div><div class="line">		success = <span class="literal">false</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= r; ++i)</div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= c; ++j) &#123;</div><div class="line">				<span class="built_in">cin</span> &gt;&gt; maze[i][j];</div><div class="line">				<span class="keyword">if</span> (maze[i][j] == <span class="string">'S'</span>) s.x = i, s.y = j;</div><div class="line">				<span class="keyword">if</span> (maze[i][j] == <span class="string">'B'</span>) b.x = i, b.y = j;</div><div class="line">				<span class="keyword">if</span> (maze[i][j] == <span class="string">'T'</span>) t.x = i, t.y = j;</div><div class="line">			&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Maze #%d\n"</span>, cas++);</div><div class="line">		AStar();</div><div class="line">		<span class="keyword">if</span> (!success)<span class="built_in">printf</span>(<span class="string">"Impossible."</span>);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"\n\n"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">OJ</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">A*</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/10/03/POJ/POJ-1475-Pushing-Boxes/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/59/">59</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Lynesy Chen
    	</div>
      	<div class="footer-right">
      		Maki by Lynesy Chen
      	</div>
    </div>
  </div>
</footer>

    </div>
    <script>
	var yiliaConfig = {
		mathjax: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true,
		showTags: true
	}
</script>

<script>!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="./",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){var e=/\/|index.html/g;return t.replace(e,"")===n.replace(e,"")}function i(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,e=0,r=t.length;e<r;e++){var i=t[e];o(n,i.getAttribute("href"))&&(0,d.default)(i,"active")}}function u(t){for(var n=t.offsetLeft,e=t.offsetParent;null!==e;)n+=e.offsetLeft,e=e.offsetParent;return n}function f(t){for(var n=t.offsetTop,e=t.offsetParent;null!==e;)n+=e.offsetTop,e=e.offsetParent;return n}function c(t,n,e,r,o){var i=u(t),c=f(t)-n;if(c-e<=o){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,h.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(e||c)+"px",a.style.left=i+"px",a.style.zIndex=r||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");c(t,document.body.scrollTop,-63,2,0),c(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}function l(){x.default.versions.mobile&&window.screen.width<800&&(i(),s())}var p=e(71),d=r(p),v=e(72),y=(r(v),e(84)),h=r(y),b=e(69),x=r(b),g=e(75),m=r(g),w=e(70);l(),(0,w.addLoadEvent)(function(){m.default.init()}),t.exports={}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(49),o=e(15);t.exports=function(t){return r(o(t))}},function(t,n,e){t.exports=!e(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(6),o=e(12);t.exports=e(4)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(10),o=e(30),i=e(24),u=Object.defineProperty;n.f=e(4)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(22)("wks"),o=e(13),i=e(1).Symbol,u="function"==typeof i,f=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};f.store=r},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(35),o=e(16);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n,e){var r=e(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(6).f,o=e(2),i=e(7)("toStringTag");t.exports=function(t,n,e){t&&!o(t=e?t:t.prototype,i)&&r(t,i,{configurable:!0,value:n})}},function(t,n,e){var r=e(22)("keys"),o=e(13);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,e){var r=e(1),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(11);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(1),o=e(14),i=e(18),u=e(26),f=e(6).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||f(n,t,{value:u.f(t)})}},function(t,n,e){n.f=e(7)},function(t,n,e){var r=e(1),o=e(14),i=e(46),u=e(5),f="prototype",c=function(t,n,e){var a,s,l,p=t&c.F,d=t&c.G,v=t&c.S,y=t&c.P,h=t&c.B,b=t&c.W,x=d?o:o[n]||(o[n]={}),g=x[f],m=d?r:v?r[n]:(r[n]||{})[f];d&&(e=n);for(a in e)s=!p&&m&&void 0!==m[a],s&&a in x||(l=s?m[a]:e[a],x[a]=d&&"function"!=typeof m[a]?e[a]:h&&s?i(l,r):b&&m[a]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[f]=t[f],n}(l):y&&"function"==typeof l?i(Function.call,l):l,y&&((x.virtual||(x.virtual={}))[a]=l,t&c.R&&g&&!g[a]&&u(g,a,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(11),o=e(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,e){t.exports=!e(4)&&!e(8)(function(){return 7!=Object.defineProperty(e(29)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){"use strict";var r=e(18),o=e(27),i=e(36),u=e(5),f=e(2),c=e(17),a=e(51),s=e(20),l=e(58),p=e(7)("iterator"),d=!([].keys&&"next"in[].keys()),v="@@iterator",y="keys",h="values",b=function(){return this};t.exports=function(t,n,e,x,g,m,w){a(e,n,x);var O,S,_,j=function(t){if(!d&&t in A)return A[t];switch(t){case y:return function(){return new e(this,t)};case h:return function(){return new e(this,t)}}return function(){return new e(this,t)}},P=n+" Iterator",E=g==h,M=!1,A=t.prototype,T=A[p]||A[v]||g&&A[g],L=T||j(g),N=g?E?j("entries"):L:void 0,C="Array"==n?A.entries||T:T;if(C&&(_=l(C.call(new t)),_!==Object.prototype&&(s(_,P,!0),r||f(_,p)||u(_,p,b))),E&&T&&T.name!==h&&(M=!0,L=function(){return T.call(this)}),r&&!w||!d&&!M&&A[p]||u(A,p,L),c[n]=L,c[P]=b,g)if(O={values:E?L:j(h),keys:m?L:j(y),entries:N},w)for(S in O)S in A||i(A,S,O[S]);else o(o.P+o.F*(d||M),n,O);return O}},function(t,n,e){var r=e(10),o=e(55),i=e(16),u=e(21)("IE_PROTO"),f=function(){},c="prototype",a=function(){var t,n=e(29)("iframe"),r=i.length,o="<",u=">";for(n.style.display="none",e(48).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),a=t.F;r--;)delete a[c][i[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(f[c]=r(t),e=new f,f[c]=null,e[u]=t):e=a(),void 0===n?e:o(e,n)}},function(t,n,e){var r=e(35),o=e(16).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(2),o=e(3),i=e(45)(!1),u=e(21)("IE_PROTO");t.exports=function(t,n){var e,f=o(t),c=0,a=[];for(e in f)e!=u&&r(f,e)&&a.push(e);for(;n.length>c;)r(f,e=n[c++])&&(~i(a,e)||a.push(e));return a}},function(t,n,e){t.exports=e(5)},function(t,n,e){var r=e(15);t.exports=function(t){return Object(r(t))}},function(t,n,e){t.exports={default:e(41),__esModule:!0}},function(t,n,e){t.exports={default:e(42),__esModule:!0}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(39),i=r(o),u=e(38),f=r(u),c="function"==typeof f.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":typeof t};n.default="function"==typeof f.default&&"symbol"===c(i.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,n,e){e(65),e(63),e(66),e(67),t.exports=e(14).Symbol},function(t,n,e){e(64),e(68),t.exports=e(26).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,e){var r=e(3),o=e(61),i=e(60);t.exports=function(t){return function(n,e,u){var f,c=r(n),a=o(c.length),s=i(u,a);if(t&&e!=e){for(;a>s;)if(f=c[s++],f!=f)return!0}else for(;a>s;s++)if((t||s in c)&&c[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var r=e(43);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(9),o=e(34),i=e(19);t.exports=function(t){var n=r(t),e=o.f;if(e)for(var u,f=e(t),c=i.f,a=0;f.length>a;)c.call(t,u=f[a++])&&n.push(u);return n}},function(t,n,e){t.exports=e(1).document&&document.documentElement},function(t,n,e){var r=e(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){"use strict";var r=e(32),o=e(12),i=e(20),u={};e(5)(u,e(7)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(u,{next:o(1,e)}),i(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var r=e(9),o=e(3);t.exports=function(t,n){for(var e,i=o(t),u=r(i),f=u.length,c=0;f>c;)if(i[e=u[c++]]===n)return e}},function(t,n,e){var r=e(13)("meta"),o=e(11),i=e(2),u=e(6).f,f=0,c=Object.isExtensible||function(){return!0},a=!e(8)(function(){return c(Object.preventExtensions({}))}),s=function(t){u(t,r,{value:{i:"O"+ ++f,w:{}}})},l=function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!n)return"E";s(t)}return t[r].i},p=function(t,n){if(!i(t,r)){if(!c(t))return!0;if(!n)return!1;s(t)}return t[r].w},d=function(t){return a&&v.NEED&&c(t)&&!i(t,r)&&s(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(t,n,e){var r=e(6),o=e(10),i=e(9);t.exports=e(4)?Object.defineProperties:function(t,n){o(t);for(var e,u=i(n),f=u.length,c=0;f>c;)r.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var r=e(19),o=e(12),i=e(3),u=e(24),f=e(2),c=e(30),a=Object.getOwnPropertyDescriptor;n.f=e(4)?a:function(t,n){if(t=i(t),n=u(n,!0),c)try{return a(t,n)}catch(t){}if(f(t,n))return o(!r.f.call(t,n),t[n])}},function(t,n,e){var r=e(3),o=e(33).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?f(t):o(r(t))}},function(t,n,e){var r=e(2),o=e(37),i=e(21)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(23),o=e(15);t.exports=function(t){return function(n,e){var i,u,f=String(o(n)),c=r(e),a=f.length;return c<0||c>=a?t?"":void 0:(i=f.charCodeAt(c),i<55296||i>56319||c+1===a||(u=f.charCodeAt(c+1))<56320||u>57343?t?f.charAt(c):i:t?f.slice(c,c+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,n,e){var r=e(23),o=Math.max,i=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):i(t,n)}},function(t,n,e){var r=e(23),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){"use strict";var r=e(44),o=e(52),i=e(17),u=e(3);t.exports=e(31)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,o(1)):"keys"==n?o(0,e):"values"==n?o(0,t[e]):o(0,[e,t[e]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,n){},function(t,n,e){"use strict";var r=e(59)(!0);e(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){"use strict";var r=e(1),o=e(2),i=e(4),u=e(27),f=e(36),c=e(54).KEY,a=e(8),s=e(22),l=e(20),p=e(13),d=e(7),v=e(26),y=e(25),h=e(53),b=e(47),x=e(50),g=e(10),m=e(3),w=e(24),O=e(12),S=e(32),_=e(57),j=e(56),P=e(6),E=e(9),M=j.f,A=P.f,T=_.f,L=r.Symbol,N=r.JSON,C=N&&N.stringify,k="prototype",F=d("_hidden"),q=d("toPrimitive"),I={}.propertyIsEnumerable,B=s("symbol-registry"),D=s("symbols"),W=s("op-symbols"),H=Object[k],K="function"==typeof L,R=r.QObject,J=!R||!R[k]||!R[k].findChild,U=i&&a(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=M(H,n);r&&delete H[n],A(t,n,e),r&&t!==H&&A(H,n,r)}:A,G=function(t){var n=D[t]=S(L[k]);return n._k=t,n},$=K&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},z=function(t,n,e){return t===H&&z(W,n,e),g(t),n=w(n,!0),g(e),o(D,n)?(e.enumerable?(o(t,F)&&t[F][n]&&(t[F][n]=!1),e=S(e,{enumerable:O(0,!1)})):(o(t,F)||A(t,F,O(1,{})),t[F][n]=!0),U(t,n,e)):A(t,n,e)},Y=function(t,n){g(t);for(var e,r=b(n=m(n)),o=0,i=r.length;i>o;)z(t,e=r[o++],n[e]);return t},Q=function(t,n){return void 0===n?S(t):Y(S(t),n)},X=function(t){var n=I.call(this,t=w(t,!0));return!(this===H&&o(D,t)&&!o(W,t))&&(!(n||!o(this,t)||!o(D,t)||o(this,F)&&this[F][t])||n)},V=function(t,n){if(t=m(t),n=w(n,!0),t!==H||!o(D,n)||o(W,n)){var e=M(t,n);return!e||!o(D,n)||o(t,F)&&t[F][n]||(e.enumerable=!0),e}},Z=function(t){for(var n,e=T(m(t)),r=[],i=0;e.length>i;)o(D,n=e[i++])||n==F||n==c||r.push(n);return r},tt=function(t){for(var n,e=t===H,r=T(e?W:m(t)),i=[],u=0;r.length>u;)!o(D,n=r[u++])||e&&!o(H,n)||i.push(D[n]);return i};K||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===H&&n.call(W,e),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),U(this,t,O(1,e))};return i&&J&&U(H,t,{configurable:!0,set:n}),G(t)},f(L[k],"toString",function(){return this._k}),j.f=V,P.f=z,e(33).f=_.f=Z,e(19).f=X,e(34).f=tt,i&&!e(18)&&f(H,"propertyIsEnumerable",X,!0),v.f=function(t){return G(d(t))}),u(u.G+u.W+u.F*!K,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var nt=E(d.store),et=0;nt.length>et;)y(nt[et++]);u(u.S+u.F*!K,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if($(t))return h(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),u(u.S+u.F*!K,"Object",{create:Q,defineProperty:z,defineProperties:Y,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),N&&u(u.S+u.F*(!K||a(function(){var t=L();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(e=n),!e&&x(n)||(n=function(t,n){if(e&&(n=e.call(this,t,n)),!$(n))return n}),r[1]=n,C.apply(N,r)}}}),L[k][q]||e(5)(L[k],q,L[k].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){e(25)("asyncIterator")},function(t,n,e){e(25)("observable")},function(t,n,e){e(62);for(var r=e(1),o=e(5),i=e(17),u=e(7)("toStringTag"),f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=f[c],s=r[a],l=s&&s.prototype;l&&!l[u]&&o(l,u,a),i[a]=i.Array}},function(t,n){"use strict";var e={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&t.indexOf("KHTML")==-1,mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:t.indexOf("Safari")==-1,weixin:t.indexOf("MicroMessenger")==-1}}()};t.exports=e},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=e(40),i=r(o),u=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):o[t]||t}function n(t){return l[t]}var e=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,r=/['<> "&]/g,o={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},f=/\u00a0/g,c=/<br\s*\/?>/gi,a=/\r?\n/g,s=/\s/g,l={};for(var p in o)l[o[p]]=p;return o["&apos;"]="'",l["'"]="&#39;",{encode:function(t){return t?(""+t).replace(r,n).replace(a,"<br/>").replace(s,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(c,"\n").replace(e,t).replace(f," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e+=2)n.push(String.fromCharCode("0x"+t.slice(e,e+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,e=t.length;e>n;n++)t[n]=u.encodeObject(t[n]);else if("object"==("undefined"==typeof t?"undefined":(0,i.default)(t)))for(var r in t)t[r]=u.encodeObject(t[r]);else if("string"==typeof t)return u.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=u},function(t,n){function e(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=e},function(t,n){function e(t,n){if(t.classList)t.classList.remove(n);else{var e=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(e," ")}}t.exports=e},,,function(t,n){"use strict";function e(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){var n=document.querySelectorAll(".article-entry a:not(.article-more-a)");n.forEach(function(t){var n=t.getAttribute("target");n&&""!==n||t.setAttribute("target","_blank")})}var e=document.querySelector("#js-aboutme");e&&0!==e.length&&(e.innerHTML=e.innerText)}t.exports={init:e}},,,,,,,,,function(t,n){function e(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var e=t.nextSibling;return e?t.parentNode.insertBefore(n,e):t.parentNode.appendChild(n)}t.exports=e}])</script><script src="/./main.f6a68c.js"></script><script>!function(){var e=function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)};e("/slider.885efe.js")}()</script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">About Me</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">随笔</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">OJ</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">DFS</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">模拟</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">线段树</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">并查集</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Kruskal</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">PAT甲级</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Dijkstra</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">BFS</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">二分法</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">数据结构</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">树</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">BST</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">DP</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Hash</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">数学</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">贪心算法</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">递归</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">AVL</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">逻辑</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">堆</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">STL</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">C++练手题</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">枚举</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">位</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Floyd</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">A*</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">01背包</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Android</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Java</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">SQL</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">C++</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">算法</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">天梯赛</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">排序</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">分治</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">HTML</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">操作系统</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">DBFS</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">组合数学</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">字典树</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">博弈论</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">错题集</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">js</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">考研题</a>
              </li>
            
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">组合数</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">什么都不会/(ㄒoㄒ)/~~</div>
  	  	
    	</section>
    
  </div>

</div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>